(this.webpackJsonpfun2build=this.webpackJsonpfun2build||[]).push([[0],{132:function(e,t,n){},142:function(e,t){},144:function(e,t){},181:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(94),i=n.n(o),a=(n(132),n(11)),s=n(70),u=n(36),l=n(4);var j=function(){var e=Object(c.useState)("comment"),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)(s.b,{h:"100vh",w:"20rem",bg:"white",color:"blackAlpha.300",flexDir:"column",justify:"space-between",align:"center",children:[Object(l.jsx)(s.b,{h:"7rem",w:"100%",fontSize:"4rem",textShadow:"0px 0px 20px #e7e7e7",fontWeight:500,letterSpacing:"-0.3rem",style:{fontVariant:"diagonal-fractions"},justify:"left",children:"SPACE4FUN"}),Object(l.jsx)(s.b,{flex:1,w:"100%",fontSize:"3rem",paddingRight:"1rem",alignItems:"end",justify:"start",flexDir:"column",children:Object(l.jsxs)(u.b,{to:"/",onClick:function(){return r("comment")},children:["comment"===n?">":""," \u4f18\u8bc4"]})}),Object(l.jsx)(s.b,{flex:1,justify:"right"})]})},b=n(16),f=n(93),h=n(43),d=n(96),m=n.n(d),O=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return(new m.a).parseString(e)})).then((function(e){return e.items})).then((function(e){return e.map((function(e){var t=e.contentSnippet.split("\n"),n=Object(a.a)(t,1)[0];return e.module=n,e.contentSnippet=e.contentSnippet.replace(e.module+"\n",""),e}))}))};var p=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return"message"in e?[]:null===e.hot_tucao?e.tucao:e.hot_tucao})).then((function(e){if(e===[])return[];var t=[];return e.forEach((function(n){var c=n.comment_content.match(/tucao-(\d*)/);if(c&&c.length>1){var r,o=Number(c[1]);t.push(o),n.comment_content=n.comment_content.replaceAll(/<a.*>/gm,""),n.comment_reply=null!==(r=e.find((function(e){return e.comment_ID===o})))&&void 0!==r?r:null}})),e=e.filter((function(e){return!t.includes(e.comment_ID)}))}))};var x=function(e){var t=function e(t){var n=t.item;return Object(l.jsxs)(s.a,{paddingLeft:"0.7rem",borderLeftStyle:"solid",borderLeftWidth:"0.5rem",borderLeftColor:"blackAlpha.500",children:[Object(l.jsx)(s.e,{color:"blackAlpha.500",children:n.comment_author}),n.comment_reply&&Object(l.jsx)(e,{item:n.comment_reply}),Object(l.jsx)(s.e,{color:"blue.900",children:n.comment_content})]})},n=function(e){var t=Object(h.a)("https://worker.space4.fun".concat(e),p),n=t.data,c=t.error;return{tucao:n,isTucaoLoading:!c&&!n,isTucaoError:c}}(e.id),c=n.tucao,r=n.isTucaoError,o=n.isTucaoLoading;return r&&console.error(r),Object(l.jsx)(s.c,{spacing:4,children:o?Object(l.jsx)(f.a,{mt:"4",noOfLines:4,spacing:"4"}):r||!c?Object(l.jsx)(s.a,{children:" error "}):c.map((function(e){return Object(l.jsx)(s.d,{children:Object(l.jsx)(t,{item:e})},e.comment_ID.toString())}))})};var g=function(){var e=Object(b.a)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),i=Object(a.a)(o,2),u=i[0],j=i[1],d=Object(c.useState)(""),m=Object(a.a)(d,2),p=m[0],g=m[1],v=Object(c.useRef)(),w=Object(c.useRef)(),S=Object(c.useRef)();Object(b.c)({ref:v,handler:function(){r.off(),j("")}});var y=function(){var e=Object(h.a)("https://spac4fun.herokuapp.com/jandan/top-comments",O),t=e.data,n=e.error;return{comment:t,isCommentLoading:!n&&!t,isCommentError:n}}(),k=y.comment,_=y.isCommentLoading,L=y.isCommentError;return Object(l.jsx)(s.b,{justify:"center",align:"stretch",h:"100vh",children:Object(l.jsxs)(s.b,{justify:"center",align:"stretch",ref:v,children:[Object(l.jsx)(s.a,{ref:w,w:"40vw",paddingRight:"1rem",overflow:n?"hidden":"auto",sx:{"::-webkit-scrollbar":{display:"none"}},children:Object(l.jsx)(s.c,{spacing:4,children:_?Object(l.jsx)(f.a,{mt:"4",noOfLines:4,spacing:"4"}):L||!k?Object(l.jsx)(s.a,{children:" error "}):k.map((function(e){return Object(l.jsxs)(s.d,{onClick:function(){r.on(),j(e.guid),g(e.link.substring(e.link.lastIndexOf("/")))},children:[Object(l.jsxs)(s.e,{color:n!==(e.guid===u)?"white":"blackAlpha.500",children:[e.module," ",e.author,":"]}),Object(l.jsx)(s.e,{color:n!==(e.guid===u)?"white":"blue.900",children:e.contentSnippet})]},e.guid)}))})}),Object(l.jsx)(s.a,{ref:S,w:"30vw",display:n?"block":"none",overflow:"auto",sx:{"::-webkit-scrollbar":{display:"none"}},children:Object(l.jsx)(x,{id:p})})]})})},v=n(5);var w=function(){return Object(l.jsxs)(s.b,{flexDir:"row",justify:"center",bg:"white",h:"100vh",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(v.c,{children:[Object(l.jsx)(v.a,{path:"/",element:Object(l.jsx)(g,{})}),Object(l.jsx)(v.a,{path:"/test",element:Object(l.jsx)("h1",{children:"hello"})})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))},y=n(30);i.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(u.a,{children:Object(l.jsx)(y.a,{children:Object(l.jsx)(w,{})})})})),S()}},[[181,1,2]]]);
//# sourceMappingURL=main.a786a4f9.chunk.js.map