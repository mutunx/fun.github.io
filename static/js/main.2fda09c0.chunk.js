(this.webpackJsonpfun2build=this.webpackJsonpfun2build||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"a":{"video":{"followed":[{"url":"https://spac4fun.herokuapp.com/youtube/channel/UC9v3JGut2Z1PxrXEpGzgEAA/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UCvUJ6BwgUGWBHuUd0cv546g/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UC_cv0cSeP4H08QKMlR5b-rw/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UCT1YrR_CLpwosODYagzhm7Q/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UC8w6AKzoMWZjX3J445gt6NA/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UCrTZu-oDZtnfJ-YIK3V9NLw/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UCZuuX733ImhEE-ujmWPoZZA/false"},{"url":"https://spac4fun.herokuapp.com/youtube/channel/UCGkdwmBhwr61OrCQ4dXXdew/false"}]},"article":{"followed":[{"url":"https://spac4fun.herokuapp.com/ifanr/coolbuy"},{"url":"https://spac4fun.herokuapp.com/sspai/index"},{"url":"https://spac4fun.herokuapp.com/pingwest/status"},{"url":"https://spac4fun.herokuapp.com/jandan"}]},"discussion":{"followed":[{"url":"https://spac4fun.herokuapp.com/jandan/top-comments"},{"url":"https://spac4fun.herokuapp.com/v2ex/topics/hot"}]},"picture":{"followed":[{"url":"https://spac4fun.herokuapp.com/jandan/top-3days"},{"url":"https://spac4fun.herokuapp.com/jandan/top-7days"}]}}}')},152:function(e,t,n){},162:function(e,t){},164:function(e,t){},212:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(108),a=n.n(o),i=(n(152),n(14)),u=n(82),s=n(39),l=n(4);var h=function(){var e=Object(r.useState)("comment"),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)(u.b,{h:"100vh",w:"10rem",bg:"white",color:"blackAlpha.300",flexDir:"column",justify:"space-between",align:"center",children:[Object(l.jsx)(u.b,{justify:"space-around",h:"6rem",w:"100%",fontSize:"4rem",textShadow:"0px 0px 20px #e7e7e7",fontWeight:500,letterSpacing:"-0.3rem",style:{fontVariant:"diagonal-fractions"},children:"S4F"}),Object(l.jsxs)(u.b,{flex:1,w:"100%",fontSize:"1.5rem",paddingRight:"1rem",alignItems:"end",justify:"start",flexDir:"column",children:[Object(l.jsxs)(s.b,{to:"/",onClick:function(){return c("comment")},children:["comment"===n?">":""," \u714e\u86cb\u4f18\u8bc4"]}),Object(l.jsxs)(s.b,{to:"/v2ex/hot",onClick:function(){return c("v2exHot")},children:["v2exHot"===n?">":""," v2ex\u70ed\u699c"]})]}),Object(l.jsx)(u.b,{flex:1,justify:"right"}),Object(l.jsx)("a",{href:"https://beian.miit.gov.cn/",target:"_blank",children:"\u6d59ICP\u59072021020537\u53f7-1"})]})},f=n(21),p=n(105),j=n(33),b=n(40),d=n.n(b),m=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return(new d.a).parseString(e)})).then((function(e){return e.items})).then((function(e){return e.map((function(e){var t=e.contentSnippet.split("\n"),n=Object(i.a)(t,1)[0];return e.module=n,e.contentSnippet=e.contentSnippet.replace(e.module+"\n",""),e}))}))};var x=function(e){var t=e.setActiveComment,n=Object(f.a)(!1),c=Object(i.a)(n,2),o=c[0],a=c[1],s=Object(r.useState)(""),h=Object(i.a)(s,2),b=h[0],d=h[1],x=Object(r.useRef)(),O=function(){var e=Object(j.a)("https://rsshub-git-main-mutunx.vercel.app/jandan/top-comments",m),t=e.data,n=e.error;return{comment:t,isCommentLoading:!n&&!t,isCommentError:n}}(),v=O.comment,g=O.isCommentLoading,w=O.isCommentError;return Object(f.c)({ref:x,handler:function(){a.off(),d("")}}),Object(l.jsx)(u.c,{spacing:4,children:g?Object(l.jsx)(p.a,{mt:"4",noOfLines:4,spacing:"4"}):w||!v?Object(l.jsx)(u.a,{children:" error "}):v.map((function(e){return Object(l.jsxs)(u.d,{onClick:function(){a.on(),d(e.guid),t(e.link.substring(e.link.lastIndexOf("/")))},children:[Object(l.jsxs)(u.e,{color:o!==(e.guid===b)?"white":"blackAlpha.500",children:[e.module," ",e.author,":"]}),Object(l.jsx)(u.e,{color:o!==(e.guid===b)?"white":"blue.900",children:e.contentSnippet})]},e.guid)}))})},O=n(5),v=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return"message"in e?[]:null===e.hot_tucao?e.tucao:e.hot_tucao})).then((function(e){if(e===[])return[];var t=[];return e.forEach((function(n){var r=n.comment_content.match(/tucao-(\d*)/);if(r&&r.length>1){var c,o=Number(r[1]);t.push(o),n.comment_content=n.comment_content.replaceAll(/<a.*>/gm,""),n.comment_reply=null!==(c=e.find((function(e){return e.comment_ID===o})))&&void 0!==c?c:null}})),e=e.filter((function(e){return!t.includes(e.comment_ID)}))}))};var g=function(e){var t=function e(t){var n=t.item;return Object(l.jsxs)(u.a,{paddingLeft:"0.7rem",borderLeftStyle:"solid",borderLeftWidth:"0.5rem",borderLeftColor:"blackAlpha.500",children:[n.comment_reply&&Object(l.jsx)(e,{item:n.comment_reply}),Object(l.jsx)(u.e,{color:"blackAlpha.500",children:n.comment_author}),Object(l.jsx)(u.e,{color:"blue.900",children:n.comment_content})]})},n=function(e){var t=Object(j.a)("https://worker.space4.fun".concat(e),v),n=t.data,r=t.error;return{tucao:n,isTucaoLoading:!r&&!n,isTucaoError:r}}(e.id),r=n.tucao,c=n.isTucaoError,o=n.isTucaoLoading;return c&&console.error(c),Object(l.jsx)(u.c,{spacing:4,children:o?Object(l.jsx)(p.a,{mt:"4",noOfLines:4,spacing:"4"}):c||!r?Object(l.jsx)(u.a,{children:" error "}):r.map((function(e){return Object(l.jsx)(u.d,{children:Object(l.jsx)(t,{item:e})},e.comment_ID.toString())}))})},w=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return(new d.a).parseString(e)})).then((function(e){return e.items})).then((function(e){return e.forEach((function(e){return e.content=e.content.replace("".concat(e.author,": "),"")})),e}))};var k=n(111);var y=function(e){var t=e.setActiveComment,n=e.type,c=Object(f.a)(!1),o=Object(i.a)(c,2),a=o[0],s=o[1],h=Object(r.useState)(""),b=Object(i.a)(h,2),d=b[0],m=b[1],x=Object(r.useRef)(),O=function(e){var t=Object(j.a)("https://rsshub-git-main-mutunx.vercel.app/v2ex/topics/"+e,w),n=t.data,r=t.error;return{v2ex:n,isV2exLoading:!r&&!n,isV2exError:r}}(n),v=O.v2ex,g=O.isV2exLoading,y=O.isV2exError;return Object(f.c)({ref:x,handler:function(){s.off(),m("")}}),Object(l.jsx)(u.c,{spacing:4,children:g?Object(l.jsx)(p.a,{mt:"4",noOfLines:4,spacing:"4"}):y||!v?Object(l.jsx)(u.a,{children:" error "}):v.map((function(e){return Object(l.jsxs)(u.d,{ref:x,onClick:function(){s.on(),m(e.guid),t(e.guid)},children:[Object(l.jsxs)(u.e,{color:a!==(e.guid===d)?"white":"blackAlpha.500",children:[e.title," by  ",e.author]}),Object(l.jsx)(u.a,{color:a!==(e.guid===d)?"white":"blue.900",children:Object(k.a)(e.content)})]},e.guid)}))})},C=n(117),L=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return(new d.a).parseString(e)})).then((function(e){return e.items.reverse()})).then((function(e){return e.forEach((function(t){var n=Object(C.a)(t.content.matchAll(/<a.*?>(.*?)<\/a>/gm));if(n.length>0){var r=[];n.forEach((function(t){var n=e.find((function(e){return e.creator===t[1]}));n&&r.push(n)})),t.reply=r}})),e}))};var S=function(e){var t=e.id,n=function e(t){var n=t.item;return Object(l.jsxs)(u.a,{paddingLeft:"0.7rem",borderLeftStyle:"solid",borderLeftWidth:"0.5rem",borderLeftColor:"blackAlpha.500",children:[n.reply&&n.reply.map((function(t){return Object(l.jsx)(e,{item:t},n.guid+t.guid)})),Object(l.jsx)(u.e,{color:"blackAlpha.500",children:n.author}),Object(l.jsx)(u.e,{color:"blue.900",children:n.contentSnippet})]})},r=function(e){var t=Object(j.a)("https://rsshub-git-main-mutunx.vercel.app/v2ex/post/"+e,L),n=t.data,r=t.error;return{v2exPost:n,isV2exPostLoading:!r&&!n,isV2exPostError:r}}(t),c=r.v2exPost,o=r.isV2exPostLoading,a=r.isV2exPostError;return Object(l.jsx)(u.c,{spacing:4,children:o?Object(l.jsx)(p.a,{mt:"4",noOfLines:4,spacing:"4"}):a||!c?Object(l.jsx)(u.a,{children:" error "}):c.map((function(e){return Object(l.jsx)(u.d,{children:Object(l.jsx)(n,{item:e},e.guid)},e.guid)}))})},E=n(115),A=n(81),_=n(54),P=n(116),V=n(8),U=n(9),D=n(12),I=n(13),R=function(e){Object(D.a)(n,e);var t=Object(I.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(U.a)(n,[{key:"listVideo",value:function(){var e=Object(P.a)(Object(A.a)().mark((function e(t){var n,r,c,o,a,i;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.video.followed,[],r=Object(_.a)(n),e.prev=3,r.s();case 5:if((c=r.n()).done){e.next=19;break}return o=c.value,a=o.url,e.next=10,fetch(a);case 10:if(i=e.sent,!(i&&i.ok)){e.next=17;break}return e.next=15,i.json();case 15:e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),r.e(e.t0);case 24:return e.prev=24,r.f(),e.finish(24);case 27:return e.abrupt("return",[]);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(function(){function e(t){Object(V.a)(this,e),this.name=void 0,this.name=t}return Object(U.a)(e,[{key:"listVideo",value:function(e){throw new Error("no implement")}},{key:"listArticle",value:function(e){throw new Error("no implement")}},{key:"listDiscussion",value:function(e){throw new Error("no implement")}},{key:"listPicture",value:function(e){throw new Error("no implement")}}]),e}());var W=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useRef)(),a=Object(r.useRef)(),s=Object(r.useRef)();function p(e){(""===n?a.current:s.current).scrollBy(e.deltaX,e.deltaY)}return Object(f.c)({ref:o,handler:function(){c("")}}),Object(r.useEffect)((function(){new R("rss").listVideo(E.a)}),[]),Object(l.jsxs)(u.b,{flexDir:"row",onWheel:p,justify:"center",bg:"white",h:"100vh",children:[Object(l.jsx)(h,{}),Object(l.jsx)(u.b,{justify:"center",align:"stretch",h:"100vh",children:Object(l.jsxs)(u.b,{justify:"center",align:"stretch",ref:o,children:[Object(l.jsx)(u.a,{ref:a,onWheel:""===n?function(e){return e.stopPropagation()}:p,w:"40vw",paddingRight:"1rem",overflow:""!==n?"hidden":"auto",sx:{"::-webkit-scrollbar":{display:"none"}},children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:"/",element:Object(l.jsx)(x,{setActiveComment:c})}),Object(l.jsx)(O.a,{path:"/v2ex/hot",element:Object(l.jsx)(y,{setActiveComment:c,type:"hot"})})]})}),Object(l.jsx)(u.a,{ref:s,onWheel:function(e){return e.stopPropagation()},w:"30vw",display:""!==n?"block":"none",overflow:"auto",sx:{"::-webkit-scrollbar":{display:"none"}},children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:"/",element:Object(l.jsx)(g,{id:n})}),Object(l.jsx)(O.a,{path:"/v2ex/hot",element:Object(l.jsx)(S,{id:n})})]})})]})})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},J=n(32);a.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(J.a,{children:Object(l.jsx)(W,{})})})})),T()}},[[212,1,2]]]);
//# sourceMappingURL=main.2fda09c0.chunk.js.map