{"version":3,"sources":["components/menu.js","components/header.js","components/content.js","App.js","reportWebVitals.js","index.js"],"names":["menu","selectable","defaultSelectedKeys","items","key","type","label","children","HeaderMenu","props","overlay","Link","Header","className","style","color","Content","useState","author","content","contentSnippet","creator","guid","isoDate","link","pubDate","title","active","data","setData","tucao","setTucao","tucaoShow","setTucaoShow","listMask","setListMask","init","setInit","sectionRef","useRef","useEffect","Parser","parseURL","err","feed","console","log","window","addEventListener","e","current","contains","target","newList","forEach","x","item","tucaoId","substring","lastIndexOf","fetch","tucaoRespon","json","hot_tucao","nData","map","find","ref","itemLayout","dataSource","renderItem","Item","onClick","itemClick","Meta","description","href","comment_author","comment_content","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.89a17fcf.chunk.js","sourcesContent":["import { Dropdown, Menu, Space, Typography } from 'antd';\r\nimport React from 'react';\r\nconst menu = (\r\n    <Menu\r\n        selectable\r\n        defaultSelectedKeys={['jandan']}\r\n        items={[\r\n            {\r\n                key: 'jandan',\r\n                type: 'group',\r\n                label: '煎蛋',\r\n                children: [\r\n                    {\r\n                        key:'comments',\r\n                        label: '优评',\r\n                    }\r\n                ]\r\n            },\r\n        ]}\r\n    />\r\n);\r\nfunction HeaderMenu(props) {\r\n    return (\r\n        <Dropdown overlay={menu}>\r\n            <Typography.Link>\r\n                <Space>\r\n                    SPACE4FUN\r\n                </Space>\r\n            </Typography.Link>\r\n        </Dropdown>\r\n    );\r\n}\r\n\r\nexport default HeaderMenu;","import React from 'react';\r\nimport HeaderMenu from \"./menu\";\r\nimport HeaderBreadcrumb from \"./breadcrumb\";\r\nfunction Header(props) {\r\n    return (\r\n        <div className={'header'}>\r\n            <div className={'headerL'}>\r\n                <HeaderMenu />\r\n            </div>\r\n\r\n            <div className=\"headerC\">\r\n                {/*<HeaderBreadcrumb />*/}\r\n                <span style={{color:\"white\"}}>主页/煎蛋/优评</span>\r\n            </div>\r\n\r\n            <div className=\"headerR\">\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport {List} from \"antd\";\r\nimport {xml,tucaoData} from './data.js'\r\nimport Parser from \"rss-parser\";\r\n\r\n\r\n\r\n\r\nfunction Content(props) {\r\n\r\n    const defaultData = [\r\n        {\r\n            author: \"哥谭市革委会主任\",\r\n            content: \"<small><b>@树洞</b></small>\\n<p>老婆开始给我下猛药了，经常点生蚝要我吃，哎，已婚男人的压力就是大</p>\\n\",\r\n            contentSnippet: \"@树洞\\n老婆开始给我下猛药了，经常点生蚝要我吃，哎，已婚男人的压力就是大\",\r\n            creator: \"哥谭市革委会主任\",\r\n            guid: \"http://i.jandan.net/t/5269905\",\r\n            isoDate: \"2022-07-02T21:58:47.000Z\",\r\n            link: \"http://i.jandan.net/t/5269905\",\r\n            pubDate: \"Sat, 02 Jul 2022 21:58:47 GMT\",\r\n            title: \"哥谭市革委会主任: @树洞 老婆开始给我下猛药了，经常点生蚝要我吃，哎，已婚男人的压力就是大\",\r\n            active: '',\r\n        },\r\n    ]\r\n    const defaultTucao = [\r\n        {\r\n            \"comment_ID\": 10718033,\r\n            \"comment_post_ID\": 102312,\r\n            \"comment_author\": \"臭臭鼠\",\r\n            \"comment_date\": \"2022-07-02 22:21:05\",\r\n            \"comment_date_int\": 1656771665,\r\n            \"comment_content\": \"去练负重深蹲吧。\\n坚实有力的大腿四头肌、臀肌能在打桩时为你带来源源不断的充沛动力。\",\r\n            \"comment_parent\": 5269905,\r\n            \"comment_reply_ID\": 0,\r\n            \"is_jandan_user\": 0,\r\n            \"is_tip_user\": 0,\r\n            \"vote_positive\": 91,\r\n            \"vote_negative\": 1,\r\n            \"sub_comment_count\": 0,\r\n            \"images\": null,\r\n            \"ip_location\": \"福建省泉州市\"\r\n        },\r\n    ]\r\n    const [data,setData] = useState(defaultData)\r\n    const [tucao,setTucao] = useState(defaultTucao)\r\n    const [tucaoShow,setTucaoShow] = useState('')\r\n    const [listMask,setListMask] = useState('')\r\n    const [init,setInit] = useState(false)\r\n    const sectionRef = useRef();\r\n    useEffect(()=>{\r\n        const parser = new Parser();\r\n\r\n\r\n\r\n        parser.parseURL('https://spac4fun.herokuapp.com/jandan/top-comments',(err, feed)=> {\r\n            console.log(err,feed)\r\n            const data = feed.items\r\n            setData(data)\r\n\r\n        })\r\n\r\n        window.addEventListener('click',(e)=> {\r\n            if(sectionRef.current && !sectionRef.current.contains(e.target)){\r\n                setListMask('');\r\n                setTucaoShow('');\r\n                setInit(true)\r\n            }\r\n        })\r\n    },[])\r\n\r\n\r\n    if(init) {\r\n        const newList = [...data];\r\n        newList.forEach(x=>x.active = '');\r\n        setInit(false);\r\n        setData(newList);\r\n    }\r\n    async function itemClick(item) {\r\n        // url \"http://i.jandan.net/t/5269905\"\r\n        // tucao api http://i.jandan.net/api/tucao/all/5269905\r\n        console.log(item.link)\r\n        item.active = 'active';\r\n\r\n        const tucaoId = item.link.substring(item.link.lastIndexOf('/'));\r\n\r\n        const tucaoRespon = await fetch('https://tucao.space4fun.workers.dev' + tucaoId);\r\n        const tucao = await tucaoRespon.json();\r\n\r\n        setTucao(tucao.hot_tucao ?? tucao.tucao);\r\n        setTucaoShow('show');\r\n        setListMask('mask')\r\n\r\n        const nData = data.map(x => {\r\n            x.active = '';\r\n            return x\r\n        });\r\n        nData.find(x => x.guid === item.guid).active = 'active'\r\n        setData(nData);\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div  className={'content'}>\r\n\r\n            <div ref={sectionRef} className={'section'}>\r\n                <div className=\"list-main\">\r\n                    <List\r\n                        className={'mainList '+ listMask}\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={data}\r\n                        renderItem={item => (\r\n                            <List.Item onClick={()=>itemClick(item)} className={'item '+ item.active}>\r\n                                <List.Item.Meta\r\n                                    title={item.author}\r\n                                    description={item.contentSnippet}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                </div>\r\n                <div className={\"list-tucao \"+tucaoShow}>\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={tucao}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <List.Item.Meta\r\n                                    title={<a href=\"https://ant.design\">{item.comment_author}</a>}\r\n                                    description={item.comment_content}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Content;\r\n","import './App.css';\nimport Header from \"./components/header\";\nimport Content from \"./components/content\";\nimport {useEffect} from \"react\";\n\nfunction App() {\n\n\n  return (\n      <div className={'page'}>\n        <Header />\n        <Content />\n      </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}